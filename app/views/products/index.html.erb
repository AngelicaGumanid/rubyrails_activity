<div class="user text-center">
  <div class="col-lg-12 mx-auto">
    <h1><b> CRUD System </b></h1>
    <p> Add, Edit and Delete data of the Products </p>
  </div>
</div>


<!-- TABLE CONTAINER -->
<div class="container-fluid" style="background-color: white;">

  <div class="container"><br><br>

    <!-- Add Button -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#newProductModal">
      New Product
    </button>
    <%= render 'form', product: @product %>
    <%#= link_to 'New Product', '#', class: 'btn btn-primary', data: { toggle: 'modal', target: '#productModal' } %>
    <!--    <%#= link_to 'New Product', new_product_path, class: 'btn btn-primary', role: 'button' %> <br><br>-->


    <table>

      <!-- Table Headers -->
      <thead>

      <tr>
        <th>Name</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Available</th>
        <th>Released at</th>
        <th>Discount</th>
        <th>Image</th>
        <th colspan="3"></th>
      </tr>

      </thead> <!-- End of Table Headers -->

      <!-- Table Body -->
      <tbody>

      <% @products.each do |product| %>
        <tr>
          <td><%= product.name %></td>
          <td><%= product.quantity %></td>
          <td><%= product.price %></td>
          <td><%= product.available ? 'Yes' : 'No' %></td>
          <td><%= product.released_at %></td>
          <td><%= product.discount %></td>
          <td><%= image_tag product.image if product.image.attached? %></td>
          <!--          <td><%#= image_tag product.image if product.image.present? %></td>-->
          <td><%= link_to 'Show', product %></td>
          <td>
            <%= button_to '#', class: 'btn btn-success', data: { bs_toggle: 'modal', bs_target: "#editProductModal-#{product.id}" } do %>
              <i class='bx bx-edit'></i> Edit
            <% end %>
            <%= render 'edit_modal', product: product %>
          </td>
          <td>
            <%= button_to product_path(product), method: :delete, class: "btn btn-danger", data: { confirm: 'Are you sure?' } do %>
              <i class='bx bx-trash'></i> Delete
            <% end %>
          </td>
        </tr>
      <% end %>
      </tbody>


    </table> <!-- END OF TABLE -->


  </div> <!-- END OF CONTAINER OF TABLE -->

</div> <!-- END OF CONTAINER FLUID OF TABLE -->










<!--  <h1>Listing Products</h1>-->

<!--  <table>-->
<!--    <thead>-->
<!--    <tr>-->
<!--      <th>Name</th>-->
<!--      <th>Quantity</th>-->
<!--      <th>Price</th>-->
<!--      <th>Available</th>-->
<!--      <th>Released at</th>-->
<!--      <th>Discount</th>-->
<!--      <th>Image</th>-->
<!--      <th colspan="3"></th>-->
<!--    </tr>-->
<!--    </thead>-->

<!--    <tbody>-->
<%# @products.each do |product| %>
<!--      <tr>-->
<!--        <td><%#= product.name %></td>-->
<!--        <td><%#= product.quantity %></td>-->
<!--        <td><%#= product.price %></td>-->
<!--        <td><%#= product.available ? 'Yes' : 'No' %></td>-->
<!--        <td><%#= product.released_at %></td>-->
<!--        <td><%#= product.discount %></td>-->
<!--        <td><%#= image_tag product.image if product.image.present? %></td>-->
<!--        <td><%#= link_to 'Show', product %></td>-->
<!--        <td><%#= link_to 'Edit', edit_product_path(product) %></td>-->
<!--        <td><%#= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>-->
<!--      </tr>-->
<%# end %>
<!--    </tbody>-->
<!--  </table>-->

<%#= link_to 'New Product', new_product_path %>